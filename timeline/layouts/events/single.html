{{ define "title" }}{{ .Title }} - {{ .Site.Title }}{{ end }}

{{ define "main" }}
<article>
    <header>
        <div style="color: #666; margin-bottom: 10px;">
            <span>{{ .Date.Format "January 2, 2006" }}</span>
            {{ if .Params.importance }}
            <span style="background: #e74c3c; color: white; padding: 3px 10px; border-radius: 3px; margin-left: 15px;">
                Importance: {{ .Params.importance }}/10
            </span>
            {{ end }}
        </div>
        <h1>{{ .Title }}</h1>
    </header>

    <style>
        article {
            line-height: 1.8;
        }
        .metadata {
            background: #f8f9fa;
            padding: 15px;
            border-left: 3px solid #3498db;
            margin: 20px 0;
        }
        .metadata h3 {
            margin-top: 0;
        }
        .tag, .actor {
            display: inline-block;
            background: #ecf0f1;
            padding: 5px 12px;
            margin: 5px 5px 5px 0;
            border-radius: 3px;
            font-size: 0.9em;
            color: #555;
        }
        .actor {
            background: #d5e8f7;
        }
    </style>

    <div class="content">
        {{ .Content }}
    </div>

    {{ if or .Params.tags .Params.actors }}
    <div class="metadata">
        {{ if .Params.actors }}
        <h3>Actors</h3>
        <div>
            {{ range .Params.actors }}
            <span class="actor">{{ . }}</span>
            {{ end }}
        </div>
        {{ end }}

        {{ if .Params.tags }}
        <h3>Tags</h3>
        <div>
            {{ range .Params.tags }}
            <span class="tag">{{ . }}</span>
            {{ end }}
        </div>
        {{ end }}

        {{ if .Params.location }}
        <h3>Location</h3>
        <p>{{ .Params.location }}</p>
        {{ end }}
    </div>
    {{ end }}

    <nav style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;">
        <a href="/events/" style="color: #3498db; text-decoration: none;">&larr; Back to Timeline</a>
    </nav>
</article>
{{ end }}
