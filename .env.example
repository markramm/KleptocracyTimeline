# Kleptocracy Timeline - Environment Configuration
# Copy this file to .env and update with your actual values
# DO NOT commit .env to version control - it's already in .gitignore

# ============================================================================
# Research Monitor API Configuration
# ============================================================================

# API Key for Research Monitor authentication
# REQUIRED for production use
# Default: None (development only)
# Generate a secure random key: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
RESEARCH_MONITOR_API_KEY=your-secure-api-key-here

# Research Monitor server port
# Default: 5558
RESEARCH_MONITOR_PORT=5558

# Research Monitor base URL for client connections
# Default: http://localhost:5558
RESEARCH_MONITOR_URL=http://localhost:5558

# Flask secret key for session management
# REQUIRED for production use
# Generate a secure random key: python3 -c "import secrets; print(secrets.token_hex(32))"
RESEARCH_MONITOR_SECRET=your-secure-secret-key-here

# Enable debug mode (DO NOT use in production)
# Default: False
DEBUG=false

# ============================================================================
# Database Configuration
# ============================================================================

# Path to the unified research database
# Default: ../unified_research.db (relative to research_monitor/)
RESEARCH_DB_PATH=../unified_research.db

# Full database URL (alternative to RESEARCH_DB_PATH)
# Default: sqlite:///unified_research.db
DATABASE_URL=sqlite:///unified_research.db

# ============================================================================
# Timeline Data Paths
# ============================================================================

# Path to timeline events directory
# Default: ../timeline_data/events (relative to research_monitor/)
TIMELINE_EVENTS_PATH=../timeline_data/events

# Path to research priorities directory
# Default: ../research_priorities (relative to research_monitor/)
RESEARCH_PRIORITIES_PATH=../research_priorities

# Path to validation logs directory
# Default: ../timeline_data/validation_logs (relative to research_monitor/)
VALIDATION_LOGS_PATH=../timeline_data/validation_logs

# ============================================================================
# Git Integration Configuration
# ============================================================================

# Timeline repository URL
# REQUIRED for git operations
# Example: https://github.com/yourusername/kleptocracy-timeline.git
TIMELINE_REPO_URL=

# Timeline repository branch
# Default: main
TIMELINE_BRANCH=main

# Workspace directory for git operations
# Default: /tmp/timeline_workspaces
TIMELINE_WORKSPACE=/tmp/timeline_workspaces

# GitHub personal access token for PR creation
# REQUIRED for creating pull requests
# Generate at: https://github.com/settings/tokens
# Requires: repo scope
GITHUB_TOKEN=

# Automatically pull latest changes on server start
# Default: true
AUTO_PULL_ON_START=true

# Prefix for auto-generated PR branch names
# Default: research-batch
PR_BRANCH_PREFIX=research-batch

# ============================================================================
# Research Workflow Configuration
# ============================================================================

# Number of events before triggering commit recommendation
# Default: 10
COMMIT_THRESHOLD=10

# ============================================================================
# Development Settings
# ============================================================================

# Set to 'true' for development, 'false' for production
# Default: false
# DEV_MODE=false

# ============================================================================
# Production Deployment Notes
# ============================================================================

# 1. Set strong RESEARCH_MONITOR_API_KEY (minimum 32 characters)
# 2. Set strong RESEARCH_MONITOR_SECRET (minimum 32 characters)
# 3. Set DEBUG=false
# 4. Configure TIMELINE_REPO_URL for git operations
# 5. Set GITHUB_TOKEN for PR creation
# 6. Ensure all paths are absolute in production
# 7. Use a non-default RESEARCH_MONITOR_PORT if needed
# 8. Restrict file permissions on .env file: chmod 600 .env

# ============================================================================
# Security Checklist
# ============================================================================

# ✓ .env file is in .gitignore (already configured)
# ✓ Strong random API key generated (min 32 chars)
# ✓ Strong random secret key generated (min 32 chars)
# ✓ DEBUG=false in production
# ✓ GitHub token has minimum required scopes only (repo)
# ✓ .env file permissions set to 600 (read/write owner only)
# ✓ Environment variables validated on server startup
